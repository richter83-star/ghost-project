services:
  - type: web
    name: ghostsystems
    env: node
    plan: free
    rootDir: ./GhostSystems
    buildCommand: npm install
    startCommand: npm start
    autoDeploy: true
    envVars:
      # Pre-set values (no sync needed)
      - key: NODE_ENV
        value: production
      - key: GHOST_MODE
        value: learning
      - key: SHOPIFY_STORE_URL
        value: dracanus-ai.myshopify.com
      - key: SHOPIFY_API_VERSION
        value: 2025-01
      - key: GEMINI_MODEL
        value: gemini-2.5-flash-preview-09-2025
      - key: FIRESTORE_JOBS_COLLECTION
        value: products
      - key: SHOPIFY_PIPELINE_DELAY_MS
        value: '2000'
      - key: ENABLE_ADAPTIVE_AI
        value: 'true'
      - key: ADAPTIVE_AI_GENERATION_INTERVAL_HOURS
        value: '24'
      - key: ADAPTIVE_AI_MIN_PRODUCTS
        value: '3'
      - key: ADAPTIVE_AI_MAX_PRODUCTS
        value: '5'
      - key: ADAPTIVE_AI_CURATION_LEVEL
        value: default
      - key: ENABLE_AI_IMAGES
        value: 'true'
      - key: ENABLE_ABANDONED_CART
        value: 'true'
      - key: ABANDONED_CART_DISCOUNT_CODE
        value: COMEBACK10
      - key: ENABLE_DYNAMIC_PRICING
        value: 'true'
      - key: DYNAMIC_PRICING_INTERVAL_DAYS
        value: '7'
      - key: ENABLE_STORE_DESIGN_AGENT
        value: 'true'
      - key: DESIGN_AGENT_INTERVAL_HOURS
        value: '24'
      - key: DESIGN_AGENT_AUTO_APPLY
        value: 'false'
      - key: DESIGN_AGENT_MIN_CONFIDENCE
        value: '0.7'
      - key: DESIGN_AGENT_MAX_DAILY_CHANGES
        value: '5'
      - key: DESIGN_AGENT_RUN_ON_STARTUP
        value: 'false'
      - key: APP_URL
        value: https://ghostsystems.onrender.com
      # Secrets (fill in Render dashboard)
      - key: SUPABASE_URL
        sync: false
      - key: SUPABASE_SERVICE_KEY
        sync: false
      - key: GUMROAD_API_KEY
        sync: false
      - key: GUMROAD_WEBHOOK_SECRET
        sync: false
      - key: LEMONSQUEEZY_API_KEY
        sync: false
      - key: LEMONSQUEEZY_STORE_ID
        sync: false
      - key: NOTION_API_KEY
        sync: false
      - key: NOTION_DB_PRODUCTS_ID
        sync: false
      - key: SHOPIFY_ADMIN_API_TOKEN
        sync: false
      - key: SHOPIFY_WEBHOOK_SECRET
        sync: false
      - key: FIREBASE_SERVICE_ACCOUNT_JSON
        sync: false
      - key: GEMINI_API_KEY
        sync: false
      - key: RESEND_API_KEY
        sync: false
      - key: FROM_EMAIL
        sync: false
      - key: CRON_SECRET
        sync: false
      - key: DESIGN_AGENT_NOTIFY_EMAIL
        sync: false
